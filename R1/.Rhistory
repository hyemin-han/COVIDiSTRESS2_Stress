data_to_map[i,1]<-
-.49
}
if (countryRegions[i,'GEO3'] == 'Canada'|
countryRegions[i,'GEO3'] == 'US'){
data_to_map[i,1]<-
.29
}
if (countryRegions[i,'GEO3'] == 'Southeast Asia'){
data_to_map[i,1]<-
.29
}
if (countryRegions[i,'GEO3'] == 'South Asia'){
data_to_map[i,1]<-
.13
}
if (countryRegions[i,'GEO3'] == 'Southern Africa'|
countryRegions[i,'GEO3'] == 'Eastern Africa'|
countryRegions[i,'GEO3'] == 'Central Africa'|
countryRegions[i,'GEO3'] == 'Western Africa'| countryRegions[i,'GEO3'] == 'Western Indian Ocean'|
countryRegions[i,'ADMIN'] == 'South Sudan'){
data_to_map[i,1]<-
.09
}
if (countryRegions[i,'GEO3'] == 'Mashriq'|countryRegions[i,'GEO3'] == 'Arabian Peninsula'){
data_to_map[i,1]<-
-.01
}
if (countryRegions[i,'GEO3'] == 'Western Europe'){
data_to_map[i,1]<-
.06
}
if (countryRegions[i,'ADMIN'] == 'United Kingdom' | countryRegions[i,'ADMIN'] == 'Iceland'|
countryRegions[i,'ADMIN'] == 'Ireland' | countryRegions[i,'ADMIN'] == 'Finland'|
countryRegions[i,'ADMIN'] == 'Norway' | countryRegions[i,'ADMIN'] == 'Sweden'|
countryRegions[i,'ADMIN'] == 'Denmark' | countryRegions[i,'ADMIN'] == 'Estonia'|
countryRegions[i,'ADMIN'] == 'Latvia' | countryRegions[i,'ADMIN'] == 'Lithuania'){
data_to_map[i,1]<-
.23
}
if (countryRegions[i,'ADMIN'] == 'Spain' | countryRegions[i,'ADMIN'] == 'Portugal'|
countryRegions[i,'ADMIN'] == 'Slovenia' | countryRegions[i,'ADMIN'] == 'Croatia'|
countryRegions[i,'ADMIN'] == 'Andora' | countryRegions[i,'ADMIN'] == 'San Marino'|
countryRegions[i,'ADMIN'] == 'Vatican' | countryRegions[i,'ADMIN'] == 'Italy'|
countryRegions[i,'ADMIN'] == 'Malta' | countryRegions[i,'ADMIN'] == 'Republic of Serbia'|
countryRegions[i,'ADMIN'] == 'Greece' | countryRegions[i,'ADMIN'] == 'Albania'|
countryRegions[i,'ADMIN'] == 'Montenegro'| countryRegions[i,'ADMIN'] == 'Bosnia and Herzegovina'|
countryRegions[i,'ADMIN'] == 'Macedonia'|countryRegions[i,'ADMIN'] == 'Kosovo'){
data_to_map[i,1]<-
.03
}
}
# merge
df_to_map <- data.frame(
Country = countryRegions$ISO3,
Data = data_to_map
)
# map draw
sPDF <- joinCountryData2Map(df_to_map,
joinCode = 'ISO3',
nameJoinColumn = 'Country')
colourPalette <- brewer.pal(5,'RdPu')
mapCountryData(sPDF,nameColumnToPlot = 'Data',
catMethod='pretty', colourPalette=colourPalette,
mapTitle ='Acceptance of Sugar Relationships in Older Men and Women (ASR-OMWS) ')
mapCountryData(sPDF,nameColumnToPlot = 'Data',
catMethod='pretty', colourPalette=colourPalette,
mapTitle ='Cohen\'s D of ASR-YWMS - ASR-OWMS')
setwd("~/Documents/GitHub/COVIDiSTRESS2_Stress/R1")
# SEM
library(lavaan)
library(blavaan)
library(fastDummies)
#
load('../Stress_aligned.RData')
table(data.filtered$residing_country)
sum(table(data.filtered$residing_country))
table(data.filtered$residing_country)[1]
table(data.filtered$gender)
table(data.filtered$education)
length(n.country)
length(n.include)
length(n.include.c)
# demographics
countries <- length(n.include.c)
# age M/SD
ages <- matrix(nrow=countries, ncol = 2)
for (i in 1:countries){
current <- data.filtered[data.filtered$residing_country == country.include[i],]
ages[i,1] <- mean(current$age, na.rm = T)
ages[i,2] <- sd(current$age, na.rm=T)
}
ages
table(data$gender)
# demographics
countries <- length(n.include.c)
# age M/SD
ages <- matrix(nrow=countries, ncol = 2)
# sex
# male female other %
gender <- matrix(nrow = countries, ncol=3)
for (i in 1:countries){
current <- data.filtered[data.filtered$residing_country == country.include[i],]
ages[i,1] <- mean(current$age, na.rm = T)
ages[i,2] <- sd(current$age, na.rm=T)
current.gender <- table(current$gender)
gender.tot <- sum(current.gender)
# male female other
gender[i,1] <- current.gender[2]/gender.tot*100
gender[i,2] <- current.gender[1]/gender.tot*100
gender[i,3] <- current.gender[3]/gender.tot*100
}
gender
gender[is.na(gender)] <- 0
gender
age <- round(age,2)
ages <- round(ages,2)
ages
gender <- round(gender,2)
gender
ages <- matrix(nrow=countries, ncol = 2)
# sex
# male female other %
gender <- matrix(nrow = countries, ncol=3)
for (i in 1:countries){
current <- data.filtered[data.filtered$residing_country == country.include[i],]
ages[i,1] <- mean(current$age, na.rm = T)
ages[i,2] <- sd(current$age, na.rm=T)
current.gender <- table(current$gender)
gender.tot <- sum(current.gender)
# male female other
gender[i,1] <- current.gender[2]/gender.tot*100
gender[i,2] <- current.gender[1]/gender.tot*100
gender[i,3] <- current.gender[3]/gender.tot*100
}
gender[is.na(gender)] <- 0
table(data$education)
# demographics
countries <- length(n.include.c)
# age M/SD
ages <- matrix(nrow=countries, ncol = 2)
# sex
# male female other %
gender <- matrix(nrow = countries, ncol=3)
# education
# PhD/BA/College/12/9/6/None
education <- matrix(nrow=countries,ncol=7)
for (i in 1:countries){
current <- data.filtered[data.filtered$residing_country == country.include[i],]
ages[i,1] <- mean(current$age, na.rm = T)
ages[i,2] <- sd(current$age, na.rm=T)
current.gender <- table(current$gender)
gender.tot <- sum(current.gender)
# male female other
gender[i,1] <- current.gender[2]/gender.tot*100
gender[i,2] <- current.gender[1]/gender.tot*100
gender[i,3] <- current.gender[3]/gender.tot*100
# education
current.educ <- table(current$education)
educ.tot <- sum(current.educ)
# phd to non
education[i,1 ] <- current.educ[2]/educ.tot*100
education[i,2 ] <- current.educ[4]/educ.tot*100
education[i,3 ] <- current.educ[3]/educ.tot*100
education[i,4 ] <- current.educ[5]/educ.tot*100
education[i,5 ] <- current.educ[7]/educ.tot*100
education[i,6 ] <- current.educ[6]/educ.tot*100
education[i,7 ] <- current.educ[1]/educ.tot*100
}
education
education[is.na(eduction)] <-0
education[is.na(education)] <-0
education[1,]
table(data.filtered[data.filtered$residing_country == country.include[1]]$education)
table(data.filtered[data.filtered$residing_country == country.include[1]]$education)/sum(table(data.filtered[data.filtered$residing_country == country.include[1]]$education))*100
current.educ
current.educ[2]
current.educ[1]
current.educ[3]
education[i,]
current.educ
country.include[1]
education[1,]
table(data.filtered[data.filtered$residing_country == 'Belarus']$education)
table(data.filtered$residing_country)
length(table(data.filtered$residing_country))
table(data.filtered[data.filtered$residing_country == 'Belarus',]$education)
2/34
7/34
gender
current.gender
current$gender[1]
current$gender[2]
table(data$gender)
# age M/SD
ages <- matrix(nrow=countries, ncol = 2)
# sex
# male female other %
gender <- matrix(nrow = countries, ncol=3)
# education
# PhD/BA/College/12/9/6/None
education <- matrix(nrow=countries,ncol=7)
for (i in 1:countries){
current <- data.filtered[data.filtered$residing_country == country.include[i],]
ages[i,1] <- mean(current$age, na.rm = T)
ages[i,2] <- sd(current$age, na.rm=T)
current.gender <- table(current$gender)
gender.tot <- sum(current.gender)
# male female other
gender[i,1] <- sum(current$gender=='Male',na.rm = T)/gender.tot*100
gender[i,2] <- sum(current$gender=='Female',na.rm = T)/gender.tot*100
gender[i,3] <- sum(current$gender=='Other/Would rather not say ',na.rm = T)/
gender.tot*100
# education
current.educ <- table(current$education)
educ.tot <- sum(current.educ)
# phd to non
education[i,1 ] <- current.educ[2]/educ.tot*100
education[i,2 ] <- current.educ[4]/educ.tot*100
education[i,3 ] <- current.educ[3]/educ.tot*100
education[i,4 ] <- current.educ[5]/educ.tot*100
education[i,5 ] <- current.educ[7]/educ.tot*100
education[i,6 ] <- current.educ[6]/educ.tot*100
education[i,7 ] <- current.educ[1]/educ.tot*100
}
gender
# age M/SD
ages <- matrix(nrow=countries, ncol = 2)
# sex
# male female other %
gender <- matrix(nrow = countries, ncol=3)
# education
# PhD/BA/College/12/9/6/None
education <- matrix(nrow=countries,ncol=7)
for (i in 1:countries){
current <- data.filtered[data.filtered$residing_country == country.include[i],]
ages[i,1] <- mean(current$age, na.rm = T)
ages[i,2] <- sd(current$age, na.rm=T)
current.gender <- table(current$gender)
gender.tot <- sum(current.gender)
# male female other
gender[i,1] <- sum(current$gender=='Male',na.rm = T)/gender.tot*100
gender[i,2] <- sum(current$gender=='Female',na.rm = T)/gender.tot*100
gender[i,3] <- sum(current$gender=='Other/Would rather not say',na.rm = T)/
gender.tot*100
# education
current.educ <- table(current$education)
educ.tot <- sum(current.educ)
# phd to non
education[i,1 ] <- current.educ[2]/educ.tot*100
education[i,2 ] <- current.educ[4]/educ.tot*100
education[i,3 ] <- current.educ[3]/educ.tot*100
education[i,4 ] <- current.educ[5]/educ.tot*100
education[i,5 ] <- current.educ[7]/educ.tot*100
education[i,6 ] <- current.educ[6]/educ.tot*100
education[i,7 ] <- current.educ[1]/educ.tot*100
}
gender
table(data$education)
# demographics
countries <- length(n.include.c)
# age M/SD
ages <- matrix(nrow=countries, ncol = 2)
# sex
# male female other %
gender <- matrix(nrow = countries, ncol=3)
# education
# PhD/BA/College/12/9/6/None
education <- matrix(nrow=countries,ncol=7)
for (i in 1:countries){
current <- data.filtered[data.filtered$residing_country == country.include[i],]
ages[i,1] <- mean(current$age, na.rm = T)
ages[i,2] <- sd(current$age, na.rm=T)
current.gender <- table(current$gender)
gender.tot <- sum(current.gender)
# male female other
gender[i,1] <- sum(current$gender=='Male',na.rm = T)/gender.tot*100
gender[i,2] <- sum(current$gender=='Female',na.rm = T)/gender.tot*100
gender[i,3] <- sum(current$gender=='Other/Would rather not say',na.rm = T)/
gender.tot*100
# education
current.educ <- table(current$education)
educ.tot <- sum(current.educ)
# phd to non
education[i,1 ] <- sum(current$education=='PhD / Doctorate',na.rm = T)/
educ.tot*100
education[i,2 ] <- sum(current$education=='Some University or equivalent \n(still ongoing, or completed a module or more, but did not graduate)',na.rm = T)/
educ.tot*100
education[i,3 ] <- current.educ[3]/educ.tot*100
education[i,4 ] <- current.educ[5]/educ.tot*100
education[i,5 ] <- current.educ[7]/educ.tot*100
education[i,6 ] <- current.educ[6]/educ.tot*100
education[i,7 ] <- current.educ[1]/educ.tot*100
}
education
table(data$education)
# age M/SD
ages <- matrix(nrow=countries, ncol = 2)
# sex
# male female other %
gender <- matrix(nrow = countries, ncol=3)
# education
# PhD/BA/College/12/9/6/None
education <- matrix(nrow=countries,ncol=7)
for (i in 1:countries){
current <- data.filtered[data.filtered$residing_country == country.include[i],]
ages[i,1] <- mean(current$age, na.rm = T)
ages[i,2] <- sd(current$age, na.rm=T)
current.gender <- table(current$gender)
gender.tot <- sum(current.gender)
# male female other
gender[i,1] <- sum(current$gender=='Male',na.rm = T)/gender.tot*100
gender[i,2] <- sum(current$gender=='Female',na.rm = T)/gender.tot*100
gender[i,3] <- sum(current$gender=='Other/Would rather not say',na.rm = T)/
gender.tot*100
# education
current.educ <- table(current$education)
educ.tot <- sum(current.educ)
# phd to non
education[i,1 ] <- sum(current$education=='PhD / Doctorate',na.rm = T)/
educ.tot*100
education[i,2 ] <- sum(current$education=='University degree (e.g., MA, MSc, BA, BSc)',na.rm = T)/
educ.tot*100
education[i,3 ] <- sum(current$education=='Some University or equivalent \n(still ongoing, or completed a module or more, but did not graduate)',na.rm = T)/
educ.tot*100
education[i,4 ] <- sum(current$education=='Up to 12 years of school',na.rm = T)/educ.tot*100
education[i,5 ] <- sum(current$education=='Up to 9 years of school',na.rm = T)/educ.tot*100
education[i,6 ] <- sum(current$education=='Up to 6 years of school',na.rm = T)/educ.tot*100
education[i,7 ] <- sum(current$education=='None',na.rm = T)/educ.tot*100
}
education
gender[is.na(gender)] <- 0
education[is.na(education)] <-0
education
table(data.filtered[data.filtered$residing_country=='Belarus','education'])
2/34
# summary
TABLE <- cbind(ages,gender,education)
TABLE <- as.data.frame(TABLE)
TABLE
rownames(TABLE)<- country.include
TABLE
Views(TABLE)
View(TABLE)
# age M/SD
ages <- matrix(nrow=countries, ncol = 2)
# sex
# male female other %
gender <- matrix(nrow = countries, ncol=3)
# education
# PhD/BA/College/12/9/6/None
education <- matrix(nrow=countries,ncol=7)
for (i in 1:countries){
current <- data.filtered[data.filtered$residing_country == country.include[i],]
ages[i,1] <- mean(current$age, na.rm = T)
ages[i,2] <- sd(current$age, na.rm=T)
current.gender <- table(current$gender)
gender.tot <- sum(current.gender)
# male female other
gender[i,1] <- sum(current$gender=='Male',na.rm = T)/gender.tot*1
gender[i,2] <- sum(current$gender=='Female',na.rm = T)/gender.tot*1
gender[i,3] <- sum(current$gender=='Other/Would rather not say',na.rm = T)/
gender.tot*100
# education
current.educ <- table(current$education)
educ.tot <- sum(current.educ)
# phd to non
education[i,1 ] <- sum(current$education=='PhD / Doctorate',na.rm = T)/
educ.tot*100
education[i,2 ] <- sum(current$education=='University degree (e.g., MA, MSc, BA, BSc)',na.rm = T)/
educ.tot*100
education[i,3 ] <- sum(current$education=='Some University or equivalent \n(still ongoing, or completed a module or more, but did not graduate)',na.rm = T)/
educ.tot*100
education[i,4 ] <- sum(current$education=='Up to 12 years of school',na.rm = T)/educ.tot*
education[i,5 ] <- sum(current$education=='Up to 9 years of school',na.rm = T)/educ.tot*1
education[i,6 ] <- sum(current$education=='Up to 6 years of school',na.rm = T)/educ.tot
education[i,7 ] <- sum(current$education=='None',na.rm = T)/educ.tot
}
gender[is.na(gender)] <- 0
education[is.na(education)] <-0
# summary
TABLE <- cbind(ages,gender,education)
TABLE <- as.data.frame(TABLE)
# age M/SD
ages <- matrix(nrow=countries, ncol = 2)
# sex
# male female other %
gender <- matrix(nrow = countries, ncol=3)
# education
# PhD/BA/College/12/9/6/None
education <- matrix(nrow=countries,ncol=7)
for (i in 1:countries){
current <- data.filtered[data.filtered$residing_country == country.include[i],]
ages[i,1] <- mean(current$age, na.rm = T)
ages[i,2] <- sd(current$age, na.rm=T)
current.gender <- table(current$gender)
gender.tot <- sum(current.gender)
# male female other
gender[i,1] <- sum(current$gender=='Male',na.rm = T)/gender.tot*1
gender[i,2] <- sum(current$gender=='Female',na.rm = T)/gender.tot*1
gender[i,3] <- sum(current$gender=='Other/Would rather not say',na.rm = T)/
gender.tot*100
# education
current.educ <- table(current$education)
educ.tot <- sum(current.educ)
# phd to non
education[i,1 ] <- sum(current$education=='PhD / Doctorate',na.rm = T)/
educ.tot*100
education[i,2 ] <- sum(current$education=='University degree (e.g., MA, MSc, BA, BSc)',na.rm = T)/
educ.tot*100
education[i,3 ] <- sum(current$education=='Some University or equivalent \n(still ongoing, or completed a module or more, but did not graduate)',na.rm = T)/
educ.tot*100
education[i,4 ] <- sum(current$education=='Up to 12 years of school',na.rm = T)/educ.tot
education[i,5 ] <- sum(current$education=='Up to 9 years of school',na.rm = T)/educ.tot*1
education[i,6 ] <- sum(current$education=='Up to 6 years of school',na.rm = T)/educ.tot
education[i,7 ] <- sum(current$education=='None',na.rm = T)/educ.tot
}
gender[is.na(gender)] <- 0
education[is.na(education)] <-0
# summary
TABLE <- cbind(ages,gender,education)
TABLE <- as.data.frame(TABLE)
rownames(TABLE)<- country.include
View(Table)
View(TABLE)
# age M/SD
ages <- matrix(nrow=countries, ncol = 2)
# sex
# male female other %
gender <- matrix(nrow = countries, ncol=3)
# education
# PhD/BA/College/12/9/6/None
education <- matrix(nrow=countries,ncol=7)
for (i in 1:countries){
current <- data.filtered[data.filtered$residing_country == country.include[i],]
ages[i,1] <- mean(current$age, na.rm = T)
ages[i,2] <- sd(current$age, na.rm=T)
current.gender <- table(current$gender)
gender.tot <- sum(current.gender)
# male female other
gender[i,1] <- sum(current$gender=='Male',na.rm = T)/gender.tot*1
gender[i,2] <- sum(current$gender=='Female',na.rm = T)/gender.tot*1
gender[i,3] <- sum(current$gender=='Other/Would rather not say',na.rm = T)/
gender.tot*100
# education
current.educ <- table(current$education)
educ.tot <- sum(current.educ)
# phd to non
education[i,1 ] <- sum(current$education=='PhD / Doctorate',na.rm = T)/
educ.tot*1
education[i,2 ] <- sum(current$education=='University degree (e.g., MA, MSc, BA, BSc)',na.rm = T)/
educ.tot*1
education[i,3 ] <- sum(current$education=='Some University or equivalent \n(still ongoing, or completed a module or more, but did not graduate)',na.rm = T)/
educ.tot*1
education[i,4 ] <- sum(current$education=='Up to 12 years of school',na.rm = T)/educ.tot
education[i,5 ] <- sum(current$education=='Up to 9 years of school',na.rm = T)/educ.tot*1
education[i,6 ] <- sum(current$education=='Up to 6 years of school',na.rm = T)/educ.tot
education[i,7 ] <- sum(current$education=='None',na.rm = T)/educ.tot
}
gender[is.na(gender)] <- 0
education[is.na(education)] <-0
# summary
TABLE <- cbind(ages,gender,education)
TABLE <- as.data.frame(TABLE)
rownames(TABLE)<- country.include
View(TABLE)
# age M/SD
ages <- matrix(nrow=countries, ncol = 2)
# sex
# male female other %
gender <- matrix(nrow = countries, ncol=3)
# education
# PhD/BA/College/12/9/6/None
education <- matrix(nrow=countries,ncol=7)
for (i in 1:countries){
current <- data.filtered[data.filtered$residing_country == country.include[i],]
ages[i,1] <- mean(current$age, na.rm = T)
ages[i,2] <- sd(current$age, na.rm=T)
current.gender <- table(current$gender)
gender.tot <- sum(current.gender)
# male female other
gender[i,1] <- sum(current$gender=='Male',na.rm = T)/gender.tot*1
gender[i,2] <- sum(current$gender=='Female',na.rm = T)/gender.tot*1
gender[i,3] <- sum(current$gender=='Other/Would rather not say',na.rm = T)/
gender.tot*1
# education
current.educ <- table(current$education)
educ.tot <- sum(current.educ)
# phd to non
education[i,1 ] <- sum(current$education=='PhD / Doctorate',na.rm = T)/
educ.tot*1
education[i,2 ] <- sum(current$education=='University degree (e.g., MA, MSc, BA, BSc)',na.rm = T)/
educ.tot*1
education[i,3 ] <- sum(current$education=='Some University or equivalent \n(still ongoing, or completed a module or more, but did not graduate)',na.rm = T)/
educ.tot*1
education[i,4 ] <- sum(current$education=='Up to 12 years of school',na.rm = T)/educ.tot
education[i,5 ] <- sum(current$education=='Up to 9 years of school',na.rm = T)/educ.tot*1
education[i,6 ] <- sum(current$education=='Up to 6 years of school',na.rm = T)/educ.tot
education[i,7 ] <- sum(current$education=='None',na.rm = T)/educ.tot
}
gender[is.na(gender)] <- 0
education[is.na(education)] <-0
# summary
TABLE <- cbind(ages,gender,education)
TABLE <- as.data.frame(TABLE)
rownames(TABLE)<- country.include
View(table(data.filtered$residing_country))
mean(data.filtered$age,na.rm=T)
sd(data.filtered$age,na.rm=T)
table(data.filtered$gender)
table(data.filtered$gender)/sum(table(data.filtered$gender))
table(data.filtered$education)/sum(table(data.filtered$education))
